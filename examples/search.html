<!DOCTYPE html>
<html lang="en">

<head>
    <title>Python Keywords: Search</title>
    <link rel="stylesheet" href="https://cdn.simplecss.org/simple.min.css">
</head>

<style>
    nav {
        text-align: center;
    }
    nav a {
        margin: 0.2rem;
        min-width: 1.2rem;
        font-weight: bold;
    }

    nav a.current {
        border-color: var(--bg);
    }
</style>

<body>
    <h1>Python Keywords: <br>Search</h1>

    <form>
        <label>Search:</label><br>
        <input type="text" />
    </form>
    
    <p>
        <b data-count="results">0</b>
        of
        <b data-count="total"></b>
        Keywords found<span> with the letters <mark></mark></span>.
    </p>

    <pre>False</pre>
    <pre>None</pre>
    <pre>True</pre>
    <pre>and</pre>
    <pre>as</pre>
    <pre>assert</pre>
    <pre>async</pre>
    <pre>await</pre>
    <pre>break</pre>
    <pre>class</pre>
    <pre>continue</pre>
    <pre>def</pre>
    <pre>del</pre>
    <pre>elif</pre>
    <pre>else</pre>
    <pre>except</pre>
    <pre>finally</pre>
    <pre>for</pre>
    <pre>from</pre>
    <pre>global</pre>
    <pre>if</pre>
    <pre>import</pre>
    <pre>in</pre>
    <pre>is</pre>
    <pre>lambda</pre>
    <pre>nonlocal</pre>
    <pre>not</pre>
    <pre>or</pre>
    <pre>pass</pre>
    <pre>raise</pre>
    <pre>return</pre>
    <pre>try</pre>
    <pre>while</pre>
    <pre>with</pre>
    <pre>yield</pre>

    <script>
        const CONFIG = {
            keywords: Array.from(document.getElementsByTagName("pre")),
            results: 0,
            input: document.querySelector("input")
        }

        document.querySelector("[data-count='total']").innerText = CONFIG.keywords.length

        // Hide keywords
        CONFIG.keywords.forEach(function (el) {
                el.style.display = 'none';
            });

        //function search on the list.
        function search() {
            const inputVal = CONFIG.input.value.toLowerCase();
            if (inputVal.length > 0 ) {
                CONFIG.keywords.forEach(function (el) {
                    el.style.display = 'block';
                });
            } else {
                CONFIG.keywords.forEach(function (el) {
                    el.style.display = 'none';
                });
            }

            [...inputVal].forEach(function (char) {
                console.log(char)
                for (let i = 0; i < CONFIG.keywords.length; i += 1) {
                    if (!CONFIG.keywords[i].innerText.toLowerCase().includes(char)) {
                        CONFIG.keywords[i].style.display = "none";
                    }
                }
            });

            const results = document.querySelectorAll("pre[style='display: block;']");
            document.querySelector("[data-count='results']").innerText = CONFIG.results.length;

            if (inputVal.length > 0) {
                document.querySelector("span").style.display = "inline";
                document.querySelector("mark").innerText = inputVal.toLocaleLowerCase();
            } else {
                document.querySelector("span").style.display = "none";
            }
        }

        document.querySelector("span").style.display = "none";

        CONFIG.input.addEventListener('input', search);
    </script>

</body>
</html>
